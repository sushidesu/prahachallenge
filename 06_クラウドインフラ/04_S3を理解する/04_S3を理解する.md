# S3を理解する

## 課題1

### 1

ストレージクラスの種類

- S3 Standard
  - アクセス頻度の高いデータ向け
  - 素早いアクセス
  - >アクセス頻度の高いデータ向けに高い耐久性、可用性、パフォーマンスのオブジェクトストレージを提供します。
- S3 Intelligent-Tiering
  - アクセス頻度が不明なデータ向け
  - アクセスされていないオブジェクトを自動で低コストの階層に移動させてくれる
    - 低コストの階層は Deep Archiveと同じパフォーマンス
  - >アクセスパターンをモニタリングし、アクセスされていないオブジェクトを自動で低コストの階層に移動させることができます。
- S3 Standard-IA
  - アクセス頻度が低いデータ向き
  - S3 Standardと同等の素早いアクセス
  - S3 Standardよりも低コストだが、データの読み出しに応じての課金あり
  - >アクセス頻度は低いが、必要に応じてすぐに取り出すことが必要なデータに適しています。S3 Standard-IA は、S3 Standardと同じ高い耐久性、高スループット、低レイテンシーを低価格のストレージ料金 (GB 単位) および取り出し料金 (GB 単位) で提供します。
- S3 One Zone-IA
  - アクセス頻度が低いデータ向き
  - 1つのAZのみにデータを保存するので、Standard-IAよりもコストが低い
  - >S3 1 ゾーン – IA はひとつの AZ にデータを保存するため、S3 標準 – IA よりもコストを 20% 削減できます。
- S3 Glacier Instant Retrieval
  - 長期アーカイブデータ向け
  - S3 Standardと変わらないミリ秒単位のアクセス
  - Standard-IAよりもコストが低い (最大32%ほど)
  - >アクセスされることがほとんどなく、ミリ秒単位で取得する必要がある、長期間有効なデータ用に最低コストのストレージを提供するアーカイブストレージクラスです。 (英語版をGoogle翻訳)
  - >S3 Glacier Instant Retrievalは、S3StandardおよびS3Standard-IAストレージクラスと同じスループットとミリ秒のアクセスで、アーカイブストレージへの最速のアクセスを提供します。 (英語版をGoogle翻訳)
- S3 Glacier Flexible Retrieval
  - 長期アーカイブデータ向け
  - Glacier Instant Retrievalよりも10%コストが低い
  - 取得に数分から数時間かかる
  - 無料の一括検索機能がある
  - 以前はこれが S3 Glacier と呼ばれていた
  - >1年に1〜2回アクセスされ、非同期で取得されるアーカイブデータに対して、（S3 Glacier Instant Retrievalよりも）最大10％低いコストのストレージを提供します。バックアップやディザスタリカバリのユースケースなど、すぐにアクセスする必要はないが、大量のデータセットを無料で取得する柔軟性が必要なアーカイブデータの場合、S3 Glacier Flexible Retrieval（以前のS3 Glacier）は理想的なストレージクラスです。 (英語版をGoogle翻訳)
- S3 Glacier Deep Archive
  - 最も低コスト
  - 長期保管向き
  - 最大12時間のデータ取得
  - >Amazon S3 の最も低コストのストレージクラスであり、1 年のうち 1 回か 2 回しかアクセスされないようなデータを対象とした長期保存やデジタル保存をサポートします。
- S3 Outposts
  - オンプレミスでS3の機能を使用できる
  - >オンプレミスの AWS Outposts 環境でのオブジェクトストレージが提供されます。

ほとんどアクセスされないバケットを作成する場合は、 最もコストの低い `S3 Glacier Deep Archive` を使用するとよい。ほとんどアクセスされないが、すぐに取得したいデータの場合は `S3 Glacier Instant Retrieval` が良さそう。

#### 参考

- [ストレージクラス - Amazon S3 ｜AWS](https://aws.amazon.com/jp/s3/storage-classes/)
- [Object Storage Classes – Amazon S3](https://aws.amazon.com/s3/storage-classes/)
- [6つのS3ストレージクラスの選択に迷った時みるチャートをつくってみた | DevelopersIO](https://dev.classmethod.jp/articles/should_i_choice_s3_storage_class/)
- [Amazon S3のストレージクラスを今一度整理 - ForgeVision Engineer Blog](https://techblog.forgevision.com/entry/2019/02/27/094449)

### 2

ライフサイクルとは、〜〜のこと。

作成から30日立つと安いストレージクラスに移動するライフサイクルを作成

## 課題2

### 1

- バージョンアップ
- レプリケーション

### 2 (レプリケーション)

クロスリージョンレプリケーションを作成

### 3 (バージョニング)

バージョニングを有効にしたS3バケットを作成
